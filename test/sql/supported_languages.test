# name: test/sql/supported_languages.test
# description: Test supported languages functionality
# group: [duckdb_ast]

require duckdb_ast

# Test 1: All expected languages are supported
# ============================================

query I
SELECT COUNT(*) FROM ast_supported_languages();
----
6

# Test 2: Specific languages are present
# ======================================

query I
SELECT language FROM ast_supported_languages() 
WHERE language IN ('python', 'javascript', 'cpp', 'typescript', 'go', 'sql')
ORDER BY language;
----
cpp
go
javascript
python
sql
typescript

# Test 3: Function returns proper table structure
# ===============================================

statement ok
CREATE TABLE lang_test AS SELECT * FROM ast_supported_languages();

query I
SELECT column_name FROM (DESCRIBE lang_test) WHERE column_name = 'language';
----
language

# Test 4: No duplicate languages
# ==============================

query I
SELECT COUNT(*) = COUNT(DISTINCT language) FROM ast_supported_languages();
----
true

# Test 5: All languages can be queried individually
# ================================================

query I
SELECT COUNT(*) FROM ast_supported_languages() 
WHERE language IN ('python', 'javascript', 'cpp', 'typescript', 'go', 'sql');
----
6